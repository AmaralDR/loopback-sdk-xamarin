# README #

### What is this repository for? ###

Creation of Loopback SDK for Xamarin Studio or C# project.

* Quick summary: 
    The Repository contains 4 folders.
    "lb-xm" folder contains the SDK Generator: JS Code running a compiled c# code that creates the SDK. E.g. In shell "node lb-xm d:\someserver\server\server.js" will create CS code for the SDK, whereas "node lb-xm d:\someserver\server\server.js c sdk.dll" will compile an sdk DLL. 
    Second folder, "SDKGeneratorDLL", contains the open source of the c# part of the generator. This project's end result is 'LBXamarinSDKGenerator.dll' which should be placed inside 'lb-xm/bin'.
    Thirdly, "SDK Example" folder contains the example server and Xamarin solution of an App using a compiled SDK.
	Last folder is "UnitTests", containing Testers for the project: it should get an input of the CS code generated by lb-xm.

* Version 1.0

### How do I get set up? ###

* On Windows
	1. Go into lb-xm and run 'npm install' in shell.
* On MacOS
	1. Have Homebrew installed - 'ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"'.
	2. If you don't have Mono x64 installed, run 'brew install https://raw.githubusercontent.com/tjanczuk/edge/master/tools/mono64.rb' in shell.
	3. run 'brew install pkg-config'.
	4. run 'npm install'.
	
* After Setup

    To compile an SDK, take the folder "lb-xm", make sure you have all the dependencies and run "node lb-xm d:\someserver\server\server.js c sdk.dll" in shell, where first parameter is the server.js file of the Loopback server, 'c' is a compilation flag and sdk.dll is the filename of the output compiled SDK.
    To review the C# part of the Generator (Source code of lb-xm/bin/LBXamarinSDKGenerator.dll), take a look at the folder "SDKGeneratorDLL".
    To review the example App using a compiled SDK, take the folder "SDK Example". This folder in turn contains a Loopback server and a Xamarin solution of an Android App using the SDK.

### Testers for LBXamarinSDK ###

* Quick summary: 
	The Unit Tests are located in the "UnitTests" folder.
	contains 2 folders:
	"relationsServer" contains a basic example server.
	"UnitTests" contains a Xamarin/Visual studio testing solution on the relationsServer.

* Important notes:
	The Testing unit is an example of building tests for a server.
	Calibrated to work with the relations Server, using classes which are in a LBXamarinSDK.cs file, created specifically for that server.
	Changing the server without compiling a new LBXamatinSDK.cs will probably cause it not to work, or give flase results.

### How do I get set up? ###

1. Go into relationsServer and run 'npm install' in terminal/shell

*Visual studio
It is important to do the setup while the project is open!
	1. open 'UnitTests.csproj' located in UnitTests/UnitTests
	2. Make sure you have NuGet installed:
		-Tools-> Extentions and Updates
		-Select online on left tab
		-Search for NuGet Package manager
	3. Make sure you have NUnit testing adapter installed:
		instructions: http://nunit.org/index.php?p=vsTestAdapter&r=2.6.3

*Xamarin
	1. No special setup is needed

* After Setup

1. Go into relationsServer and run 'slc run' (close the server if it had run, and run it again).
!Important! This part should be done each time you run a test, as test change data in the server.

2. If you made changes to the relationsServer
	-Comlpile a new LBXamatinSDK.cs and replace the existing one
	-Make sure that the code corresponds to changes on expected test results

*Visual Studio
	1. open 'UnitTests.csproj' located in UnitTests/UnitTests
	2. Test -> Windows -> Test Explorer
	3. The first time you run tests click Run All in the tab that opens
	
	More info on NUnit can be foud here 
	http://nunit.org/index.php?p=vsTestAdapter&r=2.6.3

*Xamarin
	1. open UnitTests.sln
	2. right click "UnitTests" in the solution explorer -> run unit
		








